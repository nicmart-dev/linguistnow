# Development Principles

## Core Principles

1. **API First**: Define types, interfaces, and API contracts before implementation
2. **TDD (Test Driven Development)**: Write failing tests first, then implement to make them pass
3. **DRY (Don't Repeat Yourself)**: Extract reusable code into shared modules
4. **Modular**: Keep services, controllers, and utilities in separate files
5. **Docs as Code**: Update documentation alongside implementation, not as an afterthought

## Development Workflow

1. Define types in `shared/` package (API contract)
2. Write failing tests (TDD red phase)
3. Implement to make tests pass (TDD green phase)
4. Refactor if needed (TDD refactor phase)
5. Update docs and Swagger alongside code changes

## Code Organization

- `shared/src/` - Types shared between client and server
- `server/services/` - Business logic (testable, reusable)
- `server/controllers/` - HTTP request/response handling
- `server/routes/` - Route definitions with Swagger docs
- `client/src/components/` - React components
- `docs/` - Architecture and integration documentation

---

# Commit Message Guidelines

Follow Conventional Commits specification: https://www.conventionalcommits.org/

## Format

```
<type>(<scope>): <subject>

<body>

<footer>
```

## Types

- `refactor`: Code changes that neither fix a bug nor add a feature (e.g., TypeScript migration, code restructuring)
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation only changes
- `style`: Code style changes (formatting, missing semicolons, etc.)
- `test`: Adding or updating tests
- `build`: Changes to build system or dependencies
- `ci`: Changes to CI configuration
- `chore`: Other changes that don't modify src or test files
- `perf`: Performance improvements
- `revert`: Revert a previous commit

## Scopes

- `client`: Frontend changes
- `server`: Backend changes
- `shared`: Shared package changes
- `deps`: Dependency updates
- `deps-dev`: Dev dependency updates
- `config`: Configuration changes
- `types`: TypeScript type changes
- `tests`: Test-related changes
- `docs`: Documentation changes
- `ci`: CI/CD changes
- `docker`: Docker-related changes

## Examples

Good:
- `refactor(types): migrate to TypeScript with strict mode`
- `refactor(server): convert CommonJS to ES modules`
- `feat(client): add user authentication`
- `fix(server): resolve CORS configuration issue`
- `docs(readme): update installation instructions`
- `test(client): add component tests with Vitest`
- `ci(github): add automated testing workflow`

Bad:
- `feat: TypeScript migration` (should be refactor)
- `update files` (missing type and scope)
- `Fix bug` (should be lowercase)
- `feat: add feature` (too vague)

## Rules

1. Use `refactor` for migrations, restructuring, and code improvements that don't add features
2. Always include a scope when applicable
3. Use lowercase for subject (except proper nouns)
4. No period at the end of subject
5. Keep subject under 72 characters
6. Use imperative mood ("add" not "added" or "adds")
7. Use `chore` for configuration changes, not `fix` (fix is for user-facing issues)
8. Keep commit messages short and outcome-facing - focus on what was achieved
