# =============================================================================
# LinguistNow Backend - Environment Variables
# =============================================================================
# For local development: Copy to .env and configure
# For Docker/Portainer: Set these in docker-compose or Portainer UI
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Port the Express server listens on (5000 in Docker, 8080 for local dev)
PORT=8080
NODE_ENV=development

# -----------------------------------------------------------------------------
# URL Configuration
# -----------------------------------------------------------------------------
# Frontend URL - Used for OAuth redirect and CORS
# Must match the redirect URI registered in Google Console
FRONTEND_URL=http://localhost:3000

# Backend URL - For reference/debugging
BACKEND_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# Google OAuth Configuration (Required)
# -----------------------------------------------------------------------------
# Get these from: https://console.cloud.google.com/apis/credentials
# See: docs/set-up-oauth-in-google-cloud.md
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# OAuth redirect URI - Must match FRONTEND_URL
# The OAuth flow redirects back to the frontend, not the backend
GOOGLE_REDIRECT_URI=${FRONTEND_URL}

# -----------------------------------------------------------------------------
# Airtable Database (Required)
# -----------------------------------------------------------------------------
# Personal Access Token: Create at https://airtable.com/create/tokens
# Token format: pat_xxxxxxxxxxxxx
AIRTABLE_PERSONAL_ACCESS_TOKEN=your_personal_access_token_here

# Base ID: Found in your Airtable base URL
# Format: appXXXXXXXXXXXXXX
# See: https://support.airtable.com/docs/finding-airtable-ids
AIRTABLE_BASE_ID=your_airtable_base_id_here

# -----------------------------------------------------------------------------
# n8n Workflow Automation (Required)
# -----------------------------------------------------------------------------
# Base URL for your n8n instance (without trailing slash)
# Local development: http://localhost:5678
# Docker (same network): http://n8n:5678
# External: https://n8n.yourdomain.com
N8N_BASE_URL=http://localhost:5678

# Webhook path (the part after /webhook/ in your n8n workflow)
# Default workflow uses: /webhook/calendar-check
N8N_WEBHOOK_PATH=/webhook/calendar-check

# -----------------------------------------------------------------------------
# HashiCorp Vault Configuration (Required for token storage)
# -----------------------------------------------------------------------------
# Vault server address
# Local development: http://localhost:8200
# Docker (same network): http://vault:8200
VAULT_ADDR=http://localhost:8200

# Vault authentication token (from vault init script)
# For dev mode: Use VAULT_DEV_TOKEN from docker-compose
# For production: Use token generated with linguistnow-backend policy
VAULT_TOKEN=your-vault-token-here

# Secret path prefix for token storage
# Tokens are stored at: {VAULT_SECRET_PATH}/{userEmail}
VAULT_SECRET_PATH=secret/data/linguistnow/tokens