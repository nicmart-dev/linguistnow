# =============================================================================
# LinguistNow Backend - Environment Variables
# =============================================================================
# For local development: Copy to .env and configure
# For Docker/Portainer: Set these in docker-compose or Portainer UI
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Port the Express server listens on (5000 in Docker, 8080 for local dev)
PORT=8080
NODE_ENV=development

# -----------------------------------------------------------------------------
# URL Configuration
# -----------------------------------------------------------------------------
# Frontend URL - Used for OAuth redirect and CORS
# Must match the redirect URI registered in Google Console
FRONTEND_URL=http://localhost:3000

# Backend URL - For reference/debugging
BACKEND_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# Google OAuth Configuration (Required)
# -----------------------------------------------------------------------------
# Get these from: https://console.cloud.google.com/apis/credentials
# See: docs/set-up-oauth-in-google-cloud.md
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# OAuth redirect URI - Must match FRONTEND_URL
# The OAuth flow redirects back to the frontend, not the backend
GOOGLE_REDIRECT_URI=${FRONTEND_URL}

# -----------------------------------------------------------------------------
# Airtable Database (Required)
# -----------------------------------------------------------------------------
# Personal Access Token: Create at https://airtable.com/create/tokens
# Token format: pat_xxxxxxxxxxxxx
AIRTABLE_PERSONAL_ACCESS_TOKEN=your_personal_access_token_here

# Base ID: Found in your Airtable base URL
# Format: appXXXXXXXXXXXXXX
# See: https://support.airtable.com/docs/finding-airtable-ids
AIRTABLE_BASE_ID=your_airtable_base_id_here

# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# HashiCorp Vault Configuration (Required for token storage)
# -----------------------------------------------------------------------------
# Vault server address
# Local development: http://localhost:8200
# Docker (same network): http://vault:8200
VAULT_ADDR=http://localhost:8200

# Vault authentication token (from vault init script)
# For dev mode: Use VAULT_DEV_TOKEN from docker-compose
# For production: Use token generated with linguistnow-backend policy
VAULT_TOKEN=your-vault-token-here

# Secret path prefix for token storage
# Tokens are stored at: {VAULT_SECRET_PATH}/{userEmail}
VAULT_SECRET_PATH=secret/data/linguistnow/tokens

# -----------------------------------------------------------------------------
# Redis Configuration (Required for FX rate caching)
# -----------------------------------------------------------------------------
# Redis server address
# Local development (outside Docker): redis://localhost:6379
# Docker (same network): redis://redis:6379
# Note: In Docker, this is set in docker-compose.yml backend environment section
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# Frankfurter Configuration (Required for FX rates)
# -----------------------------------------------------------------------------
# Frankfurter API address (ECB exchange rates)
# Local development (outside Docker): http://localhost:8081
# Docker (same network): http://frankfurter:8080
# Note: In Docker, this is set in docker-compose.yml backend environment section
# Note: Local port 8081 avoids conflict with backend PORT (5000) and Frankfurter Docker port (8080)
FRANKFURTER_URL=http://localhost:8081

# -----------------------------------------------------------------------------
# Currency Refresh API Key (Optional)
# -----------------------------------------------------------------------------
# API key for protecting the /api/currency/refresh endpoint
# If not set, only requests from internal IPs (Docker network, localhost) are allowed
# Set this to require X-API-Key header for external access
# CURRENCY_REFRESH_API_KEY=your-secret-api-key-here